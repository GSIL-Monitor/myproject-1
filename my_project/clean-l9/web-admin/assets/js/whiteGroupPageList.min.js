"use strict";$(function(){a("/admin/getWhiteGroupPageList",1);delAllSelect("whiteGroupIdList","/admin/deleteWhiteGroupList");function a(c,b){if(!c){return false;
}var d=b||1;$.ajax({type:"POST",url:c,data:{pageIndex:d,pageSize:CONFIG.pageSize},success:function(e){var e=JSON.parse(e),g=e.data;if(e.code=="N00000"&&g!=undefined){$("#listCount").text(g.length);
laypage({cont:$("#page"),skip:true,groups:6,pages:1,curr:d||1,jump:function(h,i){if(!i){a(c,h.curr);}}});if(g!=undefined){var f=g;$("#dataList").dataTable({autoWidth:true,info:false,paging:false,ordering:false,searching:false,deferRender:true,destroy:true,data:f,columns:[{data:"whiteGroupId",render:function(i,h,k,j){return'<input type="checkbox" value="'+k.whiteGroupId+'" name="selDel">';
}},{data:"groupName"},{data:"sortId"},{render:function(i,h,k,j){return'<a title="管理" href="/admin/whiteGroupSnPageList?whiteGroupId='+k.whiteGroupId+"&whiteGroupName="+k.groupName+'" class="ml-5">管理</a>';
}},{data:"createTime",render:function(i,h,k,j){return(k.createTime).toString().replace(/T/g," ").replace(/\+[\d]{4}/,"");}},{render:function(i,h,k,j){return'<a title="编辑" href="javascript:;" onclick="snsModeShow(\'编辑\',\'/admin/editWhiteGroupSubmit?whiteGroupId='+k.whiteGroupId+"','"+k.groupName+"','"+k.sortId+'\')" class="ml-5" style="text-decoration:none"><i class="Hui-iconfont">&#xe6df;</i></a> <a title="删除" href="javascript:;" onclick="delSelect(this,\'/admin/deleteWhiteGroupList?whiteGroupIdList='+k.whiteGroupId+'\')" class="ml-5" style="text-decoration:none"><i class="Hui-iconfont">&#xe6e2;</i></a>';
}}],createdRow:function(j,i,h){$(j).addClass("text-c");}});}}else{layer.msg(e.message,{icon:1,time:1000});}},error:function(e,g,f){layer.msg("网络错误!",{icon:1,time:1000});
console.error(e,g,f);}});}});var dis=false;function snsModeShow(f,b,e,d){var a=$("#groupName"),c=$("#sortId");a.val(e);c.val(d);layer.open({type:1,area:["800px","310px"],fix:false,maxmin:true,shade:0.4,title:f,content:$("#addSns"),success:function(g,h){$("#reset").on("click",function(){layer.close(h);
return false;});$("#form").validate({rules:{groupName:{required:true},sortId:{required:true}},onkeyup:false,focusCleanup:true,success:"valid",submitHandler:function(j){var k=a.val(),i=c.val();
if(dis){return false;}dis=true;$.ajax({type:"post",data:{groupName:k,sortId:i,},url:b,success:function(l){var l=JSON.parse(l);if(l.code=="N00000"){layer.msg("保存成功!",{icon:1,time:1000});
setTimeout(function(){location.replace(location.href);},1200);}else{layer.msg(l.message,{icon:2,time:1000});}dis=false;},error:function(l,n,m){layer.msg("网络错误!",{icon:2,time:1000});
dis=false;}});}});}});return false;}