"use strict";$(function(){loadDataList("/admin/getProductionPageList",1);$("#search").on("click",function(){loadDataList("/admin/getProductionPageList",1);return false});delAllSelect("basicIdList","/admin/deleteProductionList");function loadDataList(urlString,page){if(!urlString){return false}var curr=page||1;var _data={},companyId=$("#companyId").val(),keyword=$("#keyword").val();_data.pageIndex=curr;_data.pageSize=CONFIG.pageSize;if(companyId&&companyId!=undefined){_data.companyId=companyId}if(keyword&&keyword!=undefined){_data.keyword=keyword}$.ajax({"type":"POST","url":urlString,"data":_data,success:function(result){var result=JSON.parse(result),data=result.data;if(result.code=="N00000"&&data!=undefined){$("#listCount").text(data.totalCount);laypage({cont:$("#page"),skip:true,groups:6,pages:data.totalPages,curr:curr||1,jump:function(obj,first){if(!first){loadDataList(urlString,obj.curr)}}});if(data.data!=undefined){var tableData=data.data;$("#dataList").dataTable({"autoWidth":true,"info":false,"paging":false,"ordering":false,"searching":false,"deferRender":true,"destroy":true,"data":tableData,"columns":[{"data":"basicInfoId","render":function(data,type,row,meta){return'<input type="checkbox" value="'+row.basicInfoId+'" name="selDel">'}},{"data":"companyName","render":function(data,type,row,meta){return'<a title="'+row.companyName+'" href="javascript:;" onclick="pageFullShow (\'产品指南编辑\',\'/admin/editProduction?basicInfoId='+row.basicInfoId+"')\">"+row.companyName+"</a>"}},{"data":"lang","render":function(data,type,row,meta){return(row.lang==undefined)?"韩语":row.lang}},{"data":"type","render":function(data,type,row,meta){return(row.type=="1")?"主页面":"描述选项"}},{"data":"description",},{"render":function(data,type,row,meta){return'<a title="编辑" href="javascript:;" onclick="pageFullShow (\'产品指南编辑\',\'/admin/editProduction?basicInfoId='+row.basicInfoId+'\')" class="ml-5" style="text-decoration:none"><i class="Hui-iconfont">&#xe6df;</i></a> <a title="删除" href="javascript:;" onclick="delSelect(this,\'/admin/deleteProduction?basicInfoId='+row.basicInfoId+'\')" class="ml-5" style="text-decoration:none"><i class="Hui-iconfont">&#xe6e2;</i></a>'}}],"createdRow":function(row,data,index){$(row).addClass("text-c")}})}}else{layer.msg(result.message,{icon:1,time:1000})}},error:function(XMLHttpRequest,textStatus,errorThrown){layer.msg("网络错误!",{icon:1,time:1000});console.error(XMLHttpRequest,textStatus,errorThrown)}})}});