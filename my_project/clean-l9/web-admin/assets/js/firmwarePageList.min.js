$(function(){function d(f,h){if(!f)return!1;var g=h||1,k=$("#searchType").val(),l=$("#version").val();$.ajax({type:"POST",url:f,data:{searchType:k,versionCode:l,pageIndex:g,pageSize:CONFIG.pageSize},success:function(a){a=JSON.parse(a);var b=a.data;"N00000"==a.code&&void 0!=b?($("#listCount").text(b.totalCount),laypage({cont:$("#page"),skip:!0,groups:6,pages:b.totalPages,curr:g||1,jump:function(e,a){a||d(f,e.curr)}}),void 0!=b.data&&(a=b.data,$("#dataList").dataTable({autoWidth:!0,info:!1,paging:!1,ordering:!1,searching:!1,deferRender:!0,destroy:!0,data:a,columns:[{data:"firmwareId",render:function(e,a,c,b){return'\x3cinput type\x3d"checkbox" value\x3d"'+c.firmwareId+'" name\x3d"selDel"\x3e'}},{data:"companyName"},{data:"firmwareName"},{data:"versionCode"},{data:"displayVersionCode",render:function(e,a,c,b){return void 0!=e?e:""}},{data:"url",render:function(a,b,c,d){return'\x3ca title\x3d"\u4e0b\u8f7d" href\x3d"'+c.url+'"\x3e'+c.url+"\x3c/a\x3e"}},{data:"checkCode"},{data:"lastUpdate",render:function(a,b,c,d){return c.lastUpdate.toString().replace(/T/g," ").replace(/\+[\d]{4}/,"")}},{data:"createTime",render:function(a,b,c,d){return c.createTime.toString().replace(/T/g," ").replace(/\+[\d]{4}/,"")}},{render:function(a,b,c,d){return'\x3ca title\x3d"\u7f16\u8f91" href\x3d"javascript:;" onclick\x3d"pageFullShow (\'\u56fa\u4ef6\u7f16\u8f91\',\'/admin/editFirmware?firmwareId\x3d'+c.firmwareId+'\')" class\x3d"ml-5" style\x3d"text-decoration:none"\x3e\x3ci class\x3d"Hui-iconfont"\x3e\x26#xe6df;\x3c/i\x3e\x3c/a\x3e \x3ca title\x3d"\u5220\u9664" href\x3d"javascript:;" onclick\x3d"delSelect(this,\'/admin/deleteFirmwareList?firmwareIdList\x3d'+c.firmwareId+'\')" class\x3d"ml-5" style\x3d"text-decoration:none"\x3e\x3ci class\x3d"Hui-iconfont"\x3e\x26#xe6e2;\x3c/i\x3e\x3c/a\x3e'}}],createdRow:function(a,b,c){$(a).addClass("text-c")}}))):layer.msg(a.message,{icon:1,time:1E3})},error:function(a,b,d){layer.msg("\u7f51\u7edc\u9519\u8bef!",{icon:1,time:1E3});console.error(a,b,d)}})}$("#search").on("click",function(){d("/admin/getFirmwarePageList",1);return!1}).trigger("click");d("/admin/getFirmwarePageList",1);delAllSelect("firmwareIdList","/admin/deleteFirmwareList")});