"use strict";$(function(){a("/admin/getAppVersionPageList",1);delAllSelect("appVersionIdList","/admin/deleteAppVersionList");function a(c,b){if(!c){return false;
}var d=b||1;$.ajax({type:"POST",url:c,data:{pageIndex:d,pageSize:CONFIG.pageSize},success:function(e){var e=JSON.parse(e),g=e.data;if(e.code=="N00000"&&g!=undefined){$("#listCount").text(g.totalCount);
laypage({cont:$("#page"),skip:true,groups:6,pages:g.totalPages,curr:d||1,jump:function(h,i){if(!i){a(c,h.curr);}}});if(g.data!=undefined){var f=g.data;
$("#dataList").dataTable({autoWidth:true,info:false,paging:false,ordering:false,searching:false,deferRender:true,destroy:true,data:f,columns:[{data:"appVersionId",render:function(i,h,k,j){return'<input type="checkbox" value="'+k.appVersionId+'" name="selDel">';
}},{data:"companyName"},{data:"appName"},{data:"versionCode"},{data:"url",render:function(i,h,k,j){return'<a title="下载" href="'+k.url+'">'+k.url+"</a>";
}},{data:"appType",render:function(i,h,k,j){return(k.appType==1)?"安卓":"IOS";}},{data:"createTime",render:function(i,h,k,j){return(k.createTime).toString().replace(/T/g," ").replace(/\+[\d]{4}/,"");
}},{render:function(i,h,k,j){return'<a title="编辑" href="javascript:;" onclick="pageFullShow (\'APP编辑\',\'/admin/editAppVersion?appVersionId='+k.appVersionId+'\')" class="ml-5" style="text-decoration:none"><i class="Hui-iconfont">&#xe6df;</i></a> <a title="删除" href="javascript:;" onclick="delSelect(this,\'/admin/deleteAppVersionList?appVersionIdList='+k.appVersionId+'\')" class="ml-5" style="text-decoration:none"><i class="Hui-iconfont">&#xe6e2;</i></a>';
}}],createdRow:function(j,i,h){$(j).addClass("text-c");}});}}else{layer.msg(e.message,{icon:1,time:1000});}},error:function(e,g,f){layer.msg("网络错误!",{icon:1,time:1000});
console.error(e,g,f);}});}});