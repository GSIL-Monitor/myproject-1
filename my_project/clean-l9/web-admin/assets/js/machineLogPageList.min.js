"use strict";$(function(){$("#search").on("click",function(){a("/admin/getMachineLogPageList",1);return false;}).trigger("click");function a(e,d){if(!e){return false;
}var g=d||1;var h=$("#sn").val(),c=$("#type").val(),b=$("#startDate").val(),f=$("#endDate").val();$.ajax({type:"POST",url:e,data:{sn:h,type:c,startDate:b,endDate:f,pageIndex:g,pageSize:CONFIG.pageSize},success:function(i){var i=JSON.parse(i),k=i.data;
if(i.code=="N00000"&&k!=undefined){$("#listCount").text(k.totalCount);laypage({cont:$("#page"),skip:true,groups:6,pages:k.totalPages,curr:g||1,jump:function(l,m){if(!m){a(e,l.curr);
}}});var j=k.data;if(j!=undefined){$("#dataList").dataTable({autoWidth:true,info:false,paging:false,ordering:false,searching:false,deferRender:true,destroy:true,data:j,columns:[{data:"machineLogId",render:function(m,l,o,n){return'<input type="checkbox" value="'+o.machineLogId+'" name="selDel">';
}},{data:"sn",render:function(m,l,o,n){return(o.sn!=undefined)?o.sn:"";}},{data:"url",render:function(m,l,o,n){return(o.url===undefined)?"":'<a title="下载" href="'+o.url+'">下载</a>';
}},{data:"type",render:function(m,l,o,n){return(o.type===1)?"正常日志":"崩溃日志";}},{data:"uploadTime",render:function(m,l,o,n){return(o.uploadTime!=undefined)?o.uploadTime:"";
}}],createdRow:function(n,m,l){$(n).addClass("text-c");}});}else{$("#dataList tbody").html('<tr class="text-c"><td colspan="5">没有数据</td></tr>');}}else{layer.msg(i.message,{icon:1,time:1000});
}},error:function(i,k,j){layer.msg("网络错误!",{icon:1,time:1000});console.error(i,k,j);}});}});